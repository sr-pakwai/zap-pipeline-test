name: Matrix Strategy Sample
on: push
# The trigger to which the workflow will run 
jobs:
  example_matrix:
    strategy:
      matrix:
        urlTitle:
          - Zaproxy
          - Google
        os: [ubuntu-latest]
        include:
          - urlTitle: ZapProxy
            endpoint: 'https://www.zaproxy.org'
          - urlTitle: Google
            endpoint: 'https://www.google.com'
    runs-on: ${{ matrix.os }}
    steps:
      - name: ZAP Baseline Scan - (${{ matrix.urlTitle }})
        uses: zaproxy/action-baseline@master
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          target: ${{ matrix.endpoint }}
          allow_issue_writing: false
          # https://www.zaproxy.org/docs/docker/baseline-scan/
          cmd_options: ''
          # https://www.zaproxy.org/docs/desktop/start/features/authentication/
      - name: Archive results
        uses: actions/upload-artifact@v3
        with:
          name: report-${{ matrix.urlTitle }}
          path: ${{ github.workspace }}